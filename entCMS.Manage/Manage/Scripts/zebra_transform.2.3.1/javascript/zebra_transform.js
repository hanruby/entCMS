(function(f){f.Zebra_TransForm=function(p,s){var h=this;h.settings={};h.update=function(c){if(void 0==c||"function"!=typeof c.each)c=f('input[type="checkbox"], input[type="radio"], select');c.each(function(){var a=f(this),c=this,e=a.is("input:checkbox")?"checkbox":a.is("input:radio")?"radio":a.is("select")?"select":!1;if(e){var e=e.charAt(0).toUpperCase()+e.slice(1),b=a.data("Zebra_TransForm_"+e),j=a.attr("checked"),k=a.attr("disabled"),g=a.attr("multiple"),d=a.attr("size");if("Select"==e&&(g||d)){if("Select"== e&&(g||d))a.addClass(g||d?"Zebra_TransForm_List":"")}else{b&&b.remove();g=a.position();d={width:a.outerWidth(),height:a.outerHeight(),marginLeft:parseInt(a.css("marginLeft"),10)||0,marginTop:parseInt(a.css("marginTop"),10)||0};b=jQuery("<div>",{"class":"Zebra_TransForm_"+e}).css("visibility","hidden");if("Select"!=e)b.append(jQuery("<div>",{"class":"Checkbox"==e?"Zebra_TransForm_Checkbox_Tick":"Zebra_TransForm_Radio_Dot"})).bind("click",function(){a.trigger("change")});else var r=jQuery("<div>",{"class":"Zebra_TransForm_Arrow"}).appendTo(b), l=jQuery("<div>",{"class":"Zebra_TransForm_Text"}).css({fontFamily:a.css("fontFamily"),fontSize:a.css("fontSize"),fontStyle:a.css("fontStyle"),fontWeight:a.css("fontWeight")}).text(c.options[c.selectedIndex].text).appendTo(b);b.insertAfter(a);var m=a.data("events");if(m)for(var q in m)for(var p in m[q])b[q](f.proxy(m[q][p].handler,a.get(0)));"Select"!=e?b.css({left:g.left+(d.width-b.width())/2+d.marginLeft,top:g.top+(d.height-b.height())/2+d.marginTop}).addClass((j&&!k?"Zebra_TransForm_"+e+"_Checked": "")+(k&&!j?"Zebra_TransForm_"+e+"_Disabled":"")+(k&&j?" Zebra_TransForm_"+e+"_Checked_Disabled":"")):(k&&b.addClass("Zebra_TransForm_Select_Disabled"),f.extend(d,{paddingTop:parseInt(a.css("paddingTop"),10)||0,paddingRight:parseInt(a.css("paddingRight"),10)||0,paddingBottom:parseInt(a.css("paddingBottom"),10)||0,paddingLeft:parseInt(a.css("paddingLeft"),10)||0}),"static"==a.css("position")&&a.css({position:"relative",top:"",right:"",bottom:"",left:""}),a.css("z-index",20),"explorer"==n.name&&7==n.version&& (a.css({marginTop:d.paddingTop,marginBottom:d.paddingBottom,marginLeft:d.paddingLeft,marginRight:d.paddingRight}),d.height+=d.paddingTop+d.paddingBottom),b.css({left:g.left+d.marginLeft,top:g.top+d.marginTop,width:d.width-b.outerWidth(),height:d.height-b.outerHeight()}),r.css({top:(b.innerHeight()-r.outerHeight())/2,right:"safari"==n.name?0:d.paddingRight}),l.css({top:(b.innerHeight()-l.outerHeight())/2,left:d.paddingLeft}));a.bind({focus:function(){b.addClass("Zebra_TransForm_"+e+"_Focus")},blur:function(){b.removeClass("Zebra_TransForm_"+ e+"_Focus")},change:function(){a.attr("disabled")||("Checkbox"==e?(b.toggleClass("Zebra_TransForm_Checkbox_Checked"),b.hasClass("Zebra_TransForm_Checkbox_Checked")?a.attr("checked","checked"):a.removeAttr("checked","checked")):"Radio"==e?(f("input:radio[name="+a.attr("name")+"]").each(function(){var a=f(this);a.removeAttr("checked");a.data("Zebra_TransForm_Radio").removeClass("Zebra_TransForm_Radio_Checked")}),b.addClass("Zebra_TransForm_Radio_Checked"),a.attr("checked","checked")):l.html(c.options[c.selectedIndex].text))}, keyup:function(){"Select"==e&&l.text(c.options[c.selectedIndex].text)}}).css("opacity","0.0001").data("Zebra_TransForm_"+e,b);b.css("visibility","visible")}(j=f('label[for="'+a.attr("id")+'"]'))&&j.addClass(k&&h.settings.style_disabled_labels?"Zebra_TransForm_Label_Disabled":"")}})};var n={init:function(){this.name=this.searchString(this.dataBrowser)||"";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(c){for(var a=0;a<c.length;a++){var f= c[a].string,e=c[a].prop;this.versionSearchString=c[a].versionSearch||c[a].identity;if(f){if(-1!=f.indexOf(c[a].subString))return c[a].identity}else if(e)return c[a].identity}},searchVersion:function(c){var a=c.indexOf(this.versionSearchString);if(-1!=a)return parseFloat(c.substring(a+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]}; n.init();h.settings=f.extend({},{style_disabled_labels:!0},s);h.update(p)}})(jQuery);